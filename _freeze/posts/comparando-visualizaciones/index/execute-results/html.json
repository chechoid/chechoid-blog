{
  "hash": "62b0b023e4256e8c5150b47e74ae6861",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Comparando Visualizaciones\"\nauthor: \"Checho\"\ndate: \"01/02/2025\"\ncategories: [visualizacion, ggplot2, data viz]\nformat: \n  html:\n    code-fold: show\n    code-summary: \"Ver código\"\n    code-copy: hover\nknitr: \n  opts_chunk: \n    warning: false\n    message: false\neditor: visual\n---\n\n\n\n# Intro\n\nHace unos años atrás, el 22/2/22 para ser exactos, hice [un artículo en inglés](https://rpubs.com/Data4HR/comparing-visualizations) comparando gráficos, luego de que [Paul Van Der Laken PhD](https://www.linkedin.com/in/paulvanderlaken/) recomendara en LinkedIn un artículo de [Nick Desbarats](https://www.linkedin.com/in/nickdesbarats/) señalando los [problemas de los boxplots](https://nightingaledvs.com/ive-stopped-using-box-plots-should-you/) en su fantástico sitio [Nightingale Journal of Data Visualization Society](https://nightingaledvs.com/).\n\nLo que pasó fue que en R4HR habíamos hecho un boxplot que nos resultó muy útil para evidenciar las desigualdades salariales entre hombres y mujeres, entonces me convertí en un paladín de los boxplots. Bueno, estoy exagerando, pero la realidad es que no existen gráficos mejores o peores que otros, sino **gráficos que sirven a un propósito**.\n\nEn fin, hace poco tuve un intercambio con Nick, y entonces pensé que sería una buena idea reflotar ese artículo en castellano para mi comunidad. Así que aquí lo tienen, un nuevo autoplagio 😎.\n\n# Comparando visualizaciones\n\nEste posteo está inspirado en un [debate en LinkedIn](https://www.linkedin.com/posts/paulvanderlaken_think-twice-before-plotting-your-boxes-activity-6899369243398193152-63Y0) comparando las bondades y desventajas de los boxplots vs. los scatter plots (o gráficos de dispersión). El posteo fue escrito por [Paul van der Laken, PhD](https://www.linkedin.com/in/paulvanderlaken/) citando un artículo de [Nick Desbarats](https://www.linkedin.com/in/nickdesbarats/) titulado **\"I've stopped using boxplots. Should you?\"**, un artículo inspirador que [puedes leer aquí](https://nightingaledvs.com/ive-stopped-using-box-plots-should-you/) (en inglés).\n\nNo quiero demostrar que Nick y Paul están equivocados, ese no es el objetivo de esta publicación. De hecho, me encantó el artículo de Nick. Durante la discusión en los comentarios, compartí un ejemplo donde un boxplot fue útil y me pidieron que hiciera un violin plot. Por eso estoy escribiendo este post.\n\nCabe mencionar que no me considero un experto en visualización de datos, sólo soy un entusiasta practicante de People Analytics, y de vez en cuando, está bueno participar en un debate donde se puedan cuestionar ideas.\n\nAunque estoy de acuerdo con la idea general del artículo de Nick de que lo más simple es mejor, y que siempre hay que pensar primero en la audiencia y si van a entender o no un gráfico, en mi opinión no existe un tipo de gráfico mejor que otro. Un gráfico debe usarse con un propósito.\n\nOtro punto en contra de los boxplots es que son complejos de entender y requieren que la audiencia tenga conocimientos estadísticos para interpretarlos, lo cual es cierto. Considerando que trabajo principalmente con profesionales de Recursos Humanos, y que la estadística no es nuestro fuerte, y dado que los boxplots condensan mucha información estadística, la mayoría de mi audiencia no los entendería. Entonces, ¿para qué molestarse?\n\n![Una explicación de toda la información que proporciona un boxplot (valores atípicos, cuartiles 1 y 3, mediana)](https://miro.medium.com/max/1838/1*2c21SkzJMf3frPXPAR_gZA.png \"Información Estadística de un Boxplot\"){width=\"456\"}\n\nEn mi opinión, incluso si estás haciendo un gráfico de torta o un gráfico de barras, siempre tenés que explicar qué está diciendo la visualización, especialmente si estás usando algún tipo de gráfico con el que la gente no está familiarizada. No asumas que tu audiencia va a interpretar el gráfico de la misma manera en que vos lo pensaste al crearlo. Prestá atención a las [charlas TED de Hans Rosling](https://www.ted.com/speakers/hans_rosling) y como siempre explica cómo interpretar sus visualizaciones.\n\n![No asumas que el usuario sabrá cómo leer el gráfico](https://github.com/chechoid/comparing-visualizations/blob/main/images/bull-terrier.png?raw=true){width=\"349\"}\n\nAunque los boxplots son difíciles de entender, especialmente para los profesionales de Recursos Humanos, creo que pueden ser útiles para personas que trabajan, por ejemplo, en Compensaciones y Beneficios, ya que constantemente manejan medianas y bandas salariales.\n\nY creo que cada gráfico cumple un propósito. Por ejemplo, en presentaciones comerciales, siempre incluiría un gráfico Sankey por el *Efecto Wow*, pero casi nunca lo usé en producción porque mis clientes no sabrían cómo leerlos. Entonces, mi punto es que **siempre tenés que usar una visualización que el usuario y la audiencia puedan entender.**\n\nAsí que, considerando todo esto, ¡carguemos algunos datos y comparemos gráficos! 🤓\n\n# Los datos\n\nLos datos que vamos a ver son de una encuesta salarial abierta desarrollada por un RUG (Grupo de Usuarios de R) latinoamericano llamado [R4HR Club de R para RRHH](https://r4hr.club/), una comunidad para aprender a usar R dirigida a personas de habla hispana que trabajan o quieren trabajar en Recursos Humanos. Podés encontrar los datos originales y nuestro análisis completo en [este enlace](https://rpubs.com/Data4HR/encuesta-kiwi-2020) (está en español 🤷🏻).\n\nPrimero, carguemos algunas librerías y un subconjunto de los datos. Si no querés ver todo el proceso de preparación de datos, simplemente andá a **Comparando visualizaciones** en el menú de la izquierda.\n\n## Preparación de datos\n\nEstoy cargando datos desde la fuente original. Por eso, esto requiere algo de limpieza de datos. Los datos están filtrados para mostrar solo los resultados de Argentina, y realicé algunos cálculos para estimar los salarios de medio tiempo como equivalentes a un salario de tiempo completo. Esos son los datos que voy a usar para hacer las visualizaciones. Podés descargar una versión limpia de estos datos desde este [repositorio de GitHub](https://raw.githubusercontent.com/chechoid/comparing-visualizations/main/hr_salaries_arg.csv).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Librarias & Data ----\nlibrary(tidyverse)    # Limpieza y Manipulación de Datos\nlibrary(funModeling)  # Exploración y limpieza de datos y mucho más\nlibrary(scales)       # Ajustes a cómo ver las escalas de los ejes\nlibrary(googlesheets4) # Leer archivos de Google Sheets\nlibrary(gargle)       # Para lidiar con los caracteres especiales del castellano\n\n# Data\nsalaries <- read_sheet(\"1aeuu9dVfN42EjyvbmhEcsf0ilSz2DiXU-0MpnF896ss\") %>% \n    select(gender = \"Género\",\n           role = \"¿En qué puesto trabajás?\",\n           gross_salary = \"¿Cuál es tu remuneración BRUTA MENSUAL en tu moneda local? (antes de impuestos y deducciones)\",\n           country = \"País en el que trabajas\",\n           work_type = \"Trabajo\",\n           work_hours = \"Tipo de contratación\") %>% \n  filter(country == \"Argentina\",\n         work_type == \"Relación de Dependencia\",\n         gender %in% c(\"Femenino\", \"Masculino\")) %>% \n  select(-country, -work_type)\n\n## Limpieza de datos (no hay escapatoria de esto) ----\nsalaries <- salaries %>% \n  mutate(gross_salary = as.numeric(unlist(gross_salary)))\n\n# Añade columna para estimar el salario full time de trabajadores part time\nsalaries <- salaries %>% \n  mutate(multiplier = if_else(work_hours == \"Part time\", 1.5, 1),\n         ft_salary = gross_salary * multiplier) %>% \n  select(-work_hours, -multiplier, -gross_salary)\n\n# Filtro y unificación de roles \nsalaries <- salaries %>% \n  filter(role != \"Juzgado Civil y Comercial\",\n         role != \"Programador\",\n         role != \"Cuidado\",\n         role != \"Asesor\",\n         role != \"Jefe de Proyecto\") %>% \n  mutate(role = str_trim(role, side = \"both\"), # Elimina espacios vacíos\n         role = fct_collapse(role, \"Gerente\" = \"Superintendente\"),\n         role = fct_collapse(role, \"Director\" = \"Director ( escalafón municipal)\"),\n         role = fct_collapse(role, \"HRBP\" = c(\"Senior Consultoría\", \"specialist\", \"especialista\",\n                                                  \"Especialista en selección IT\", \"Recruiter\")),\n         role = fct_collapse(role, \"Responsable\" = c(\"Coordinación\", \"Coordinador de Payroll\",\n                                                         \"Encargado\", \"Supervisor\")),\n         role = fct_collapse(role, \"Administrativo\" = c(\"Asistente\", \"Asistente RRHH\", \"Aux\", \n                                                            \"Capacitador\", \"Consultor Ejecutivo\",\n                                                            \"consultor jr\")),\n         role = fct_collapse(role, \"Analista\" = c(\"Asesoramiento\", \"Consultor\", \"Generalista\", \n                                                      \"Reclutadora\", \"Selectora\", \"Senior\"))) \n\n# Filtra roles para analizar\nsalaries <- salaries %>% \n  filter(role %in% c(\"Analista\", \"HRBP\", \"Responsable\",\n                     \"Jefe\", \"Gerente\"))\n\n# Graba el dataframe en un csv para compartir.\nwrite_delim(salaries, file = \"hr_salaries_arg.csv\",\n            delim = \";\")\n```\n:::\n\n\n\nLa siguiente sección es para customizar los gráficos.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\noptions(scipen = 999) # Cambia la notación científica por valores nominales\n\n# Estilo limpio con líneas horizontales grises\nstyleh <- theme(panel.grid = element_blank(),\n                plot.background = element_rect(fill = \"#FBFCFC\"),\n                panel.background = element_blank(),\n                panel.grid.major.y = element_line(color = \"#EAEDED\"),\n                axis.ticks.y = element_blank(),\n                plot.title.position = \"plot\")\n\n# Estilo limpio con líneas verticales grises\nstylev <- theme(panel.grid = element_blank(),\n                plot.background = element_rect(fill = \"#FBFCFC\"),\n                panel.background = element_blank(),\n                panel.grid.major.x = element_line(color = \"#EAEDED\"),\n                axis.ticks.x = element_blank(),\n                plot.title.position = \"plot\")\n\n\n# Modifica la forma en que se muestran los ejes\naxis_x_n <- scale_x_continuous(labels = comma_format(big.mark = \".\", decimal.mark = \",\"))\naxis_y_n <- scale_y_continuous(labels = comma_format(big.mark = \".\", decimal.mark = \",\"))\n\n\n# Colores\ngender_colors <- genero <- c(\"#8624F5\", \"#1FC3AA\") # Purple and green (sort of :p)\n\n# Fuente de datos\nfuente <- \"Data Source: Encuesta KIWI de Sueldos de RRHH LATAM 2020\\nR4HR Club de R para RRHH\"\n```\n:::\n\n\n\nVeamos un resumen de los datos.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Ordena los puestos por jerarquía\nsalaries <- salaries %>% \n  mutate(role = fct_relevel(role, c(\"Analista\", \"HRBP\", \"Responsable\",\n                                   \"Jefe\", \"Gerente\"))) \n\n# Veamos un resumen de los datos\nsummary(salaries)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    gender                      role       ft_salary      \n Length:536         Analista      :223   Min.   :      2  \n Class :character   Responsable   :136   1st Qu.:  56000  \n Mode  :character   Jefe          : 72   Median :  75000  \n                    HRBP          : 57   Mean   :  93288  \n                    Gerente       : 48   3rd Qu.: 105250  \n                    Administrativo:  0   Max.   :2140000  \n                    (Other)       :  0                    \n```\n\n\n:::\n:::\n\n\n\nHay un par de valores inusuales. Primero, el valor mínimo, que claramente es un error (o alguien con malas intenciones), y luego el valor máximo, que podría ser posible, pero es altamente inusual para el mercado argentino. Si hacemos un histograma, el resultado sería extraño.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salaries, aes(x = ft_salary)) +\n  geom_histogram() +\n  labs(title = paste0(\"Distribución de Salario Bruto en HR \", emo::ji(\"scream\")),\n       subtitle = \"Datos de Argentina | en AR$\",\n       x = NULL, y = NULL,\n       caption = fuente) +\n  axis_x_n +\n  styleh\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/hist-1-1.png){width=672}\n:::\n:::\n\n\n\nAcá es donde `funModeling` hace su magia. La función `profiling_num` arroja una tabla con un montón de información estadística de resumen.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n(numerical <- profiling_num(salaries))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n   variable     mean  std_dev variation_coef  p_01  p_05  p_25  p_50   p_75\n1 ft_salary 93287.88 104693.9       1.122267 217.5 35000 56000 75000 105250\n    p_95   p_99 skewness kurtosis   iqr        range_98        range_80\n1 195500 290000 14.41845  275.362 49250 [217.5, 290000] [44500, 150000]\n```\n\n\n:::\n:::\n\n\n\nDado que quiero analizar los valores centrales de los salarios, voy a eliminar todos los valores por fuera de los percentiles 5 y 95.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Guarda los valores de los percentiles 5 y 95 de la tabla numerical\np05 <- numerical[1,6]\np95 <- numerical[1,10]\n\n# Filtra valores dentro del rango de los percentiles p05 y p95\nsalaries <- salaries %>% \n  filter(between(    # Función de soporte\n    ft_salary,       # Variable a filtrar\n    p05,             # Umbral mínimo\n    p95              # Umbral máximo\n  ))\n\n# Elimino objetos que no voy a volver a usar\nrm(numerical, p05, p95)\n```\n:::\n\n\n\nAhora que tenemos una versión más limpia de los datos podemos empezar a comparar las visualizaciones.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salaries, aes(x = ft_salary)) +\n  geom_histogram() +\n  labs(title = \"Distribución de Salario Bruto en HR | Datos Limpios\",\n       subtitle = \"Data de Argentina | en AR$\",\n       x = NULL, y = NULL,\n       caption = fuente) +\n  axis_x_n +\n  styleh\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/hist-2-1.png){width=672}\n:::\n:::\n\n\n\n# Comparando gráficos\n\n![Créditos: Allison Horst \\@allison_horst](https://pbs.twimg.com/media/EKHdk4IU8AAQ_XB.jpg){width=\"399\"}\n\n¿Por qué usar un boxplot en lugar de un simple gráfico de barras? Probemos usando un gráfico de barras para comparar el salario mediano de hombres y mujeres en cada rol:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsalaries %>% \n  group_by(role, gender) %>% \n  summarise(median_salary = median(ft_salary)) %>% \n  ggplot(aes(x = role, y = median_salary, fill = gender)) +\n  geom_col(position = \"dodge\") +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Mediana Salarial por Rol y Género en HR\",\n       subtitle = \"Datos de Argentina | en AR$\",\n       y = \"Mediana Salarial en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/barplot-1.png){width=672}\n:::\n:::\n\n\n\nSi miramos cada barra, podemos ver que la brecha salarial para los roles de Analista y Supervisor es mayor que en los otros roles, lo que indica que los hombres en Recursos Humanos ganan más que sus colegas mujeres. Pero cuando observamos los roles de HRBP y Gerentes, la mediana salarial de las mujeres es ligeramente mayor que la de los hombres, e incluso en el rol de Jefatura, la brecha es bastante pequeña. Con esta evidencia, podríamos decir que la brecha salarial de género en Recursos Humanos en Argentina no es un problema, pero...\n\n![](https://media.giphy.com/media/9AIo1aJjtVTDd7D3wc/giphy.gif){width=\"408\"}\n\n## Boxplots\n\nEn el debate en LinkedIn, Nick Desbarats dice que tiene problemas para encontrar casos de uso donde los boxplots fueran la mejor opción, así que compartí el siguiente gráfico:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salaries, aes(x = role, y = ft_salary, fill = gender)) +\n  geom_boxplot() +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Distribución Salarial en Roles de HR en Argentina\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/boxplot-1.png){width=672}\n:::\n:::\n\n\n\nLo que me gusta de este gráfico es que podemos ver la distribución de los salarios por el tamaño de cada mitad de las cajas. Usemos de ejemplo la posición de *Jefe*. Las medianas entre hombres y mujeres son similares, pero en el caso de las mujeres la mitad inferior es más grande que la de los varones, indicando que el rango de salarios de las mujeres es más amplio. Eso nos dice que hay mujeres en la posición de *Jefe* con sueldos muy por debajo de la mediana.\n\nLo opuesto ocurre con profesionales masculinos en el puesto de *Jefe*. La mitad superior de la caja es más amplia, indicando que hay hombres con sueldos muy por encima de la mediana.\n\nNick tiene un punto a su favor. ¿Cuántos casos tenemos en cada rol? ¿3, 15, 300? No lo podemos saber con este tipo de gráfico. Entonces él sugirió probar con un **gráfico de** **violín**. Así que, veamos qué ocurre.\n\n## Violin plot\n\nLos gráficos de violín son una alternativa a los boxplots. Muestran el rango de valores con su largo, y las distintas concentraciones de datos con su ancho. La sección más ancha del gráfico suele indicar la mediana de los valores numéricos.:\n\n[![Créditos: atlassian.com](https://wac-cdn.atlassian.com/dam/jcr:0ed08845-2adb-48a7-a070-19fe7bc32974/violin-inner-options-1.png?cdnVersion=2484)\n\nConvirtamos nuestro boxplot original en un gráfico de violín.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salaries, aes(x = role, y = ft_salary, fill = gender)) +\n  geom_violin() +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Distribución Salarial en Roles de HR en Argentina\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/violin chart-1.png){width=672}\n:::\n:::\n\n\n\nDada la cantidad de roles, no podemos apreciar el valor de este tipo de gráfico. Así que repitamos el ejercicio pero sólo con los *Analistas* y *Gerentes*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsalaries %>% \n  filter(role %in% c(\"Analista\", \"Gerente\")) %>% \n  ggplot(aes(x = role, y = ft_salary, fill = gender)) +\n  geom_violin() +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Distribución Salarial en Roles de HR en Argentina\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/violin2-1.png){width=672}\n:::\n:::\n\n\n\nEl ancho de cada gráfico indica que esa zona contiene mayor cantidad de casos. Para Gerentes hombres, podemos apreciar que la mayoría de los casos están cerca de la mediana. El largo o altura del gráfico indica el rango de valores. Para el caso de las Gerentas ese rango va desde aproximadamente AR\\$ 50.000 hasta cerca de los  AR\\$ 200.000 y el ancho es bastante parejo a lo largo de las observaciones.\n\nEn el caso de los analistas, en las mujeres vemos que la sección más ancha se encuentra en torno a los AR\\$ 50.000 y se hace más delgada hacia arriba. En el caso de los varones, la parte más ancha del gráfico está más arriba que el de las mujeres, y el rango se expande hasta valores más altos.\n\nTal vez para este dataset, el gráfico de violín no sea la mejor opción para ver todos los roles juntos, así que probemos el gráfico de dispersión o **scatter plot**.\n\n## Scatter plot\n\nUna manera de ver la distribución de los puntos de datos es mediante el scatter plot o gráficos de dispersión. Tendemos a usarlos para visualizar las relaciones entre dos variables numéricas, pero también podemos utilizarlos cuando tenemos una variable nominal.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(salaries, aes(x = role, y = ft_salary, color = gender)) +\n  geom_point(size = 3,\n             alpha = 0.2,\n             position = position_jitter(0.3)) +\n  scale_color_manual(values = gender_colors) +\n  styleh +\n  axis_y_n +\n  labs(title = \"Distribución Salarial en Roles de HR en Argentina\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/scatter_plot-1.png){width=672}\n:::\n:::\n\n\n\nNuevamente, con este dataset el scatter plot puede ser más confuso dado que en ciertos roles, como el de *Analista* o el *Responsable* tienen muchas observaciones, se dificulta apreciar las diferencias por color. Pero por ejemeplo, en el caso de los *Gerentes* se puede apreciar el rango de los salarios y dónde se concentran en el caso de los varones.\n\nProbemos separar los gráficos en gráficos más chicos para ver si ayuda a clarificar la interpretación de los datos.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Calcular mediana de los salarios por género y rol \nmedian_salaries <- salaries %>%\n  group_by(gender, role) %>%\n  summarise(median_salary = median(ft_salary, na.rm = TRUE), .groups = \"drop\")\n\nmedian_salaries <- median_salaries %>%\n  mutate(x = as.numeric(as.factor(gender)) - 0.4,  # Ajusta el inicio de la línea\n         xend = as.numeric(as.factor(gender)) + 0.4) # Ajusta el final de la línea\n\n# Gráfico\n## Scatter plot\nggplot(salaries, aes(x = gender, y = ft_salary, color = gender)) +\n  geom_point(size = 2,\n             alpha = 0.3,\n             position = position_jitter(0.22)) +\n  ## Customiza colores\n  scale_color_manual(values = gender_colors) +\n  ## Añade líneas de medianas\n  geom_segment(data = median_salaries, \n               aes(x = x, xend = xend, \n                   y = median_salary, \n                   yend = median_salary, \n                   color = gender), \n               size = 1,\n               show.legend = FALSE) +\n  ## Customiza el estilo del gráfico\n  styleh +\n  ## Customiza las etiquetas del eje y\n  axis_y_n +\n  ## Modifica títulos y ejes\n  labs(title = \"Distribución Salarial en Roles de HR en Argentina\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = paste0(fuente,\"\\nSugerencias por Nick Desbarats\")) +\n  ## Divide el gráfico en subgráficos por rol\n  facet_wrap(~role, nrow = 1) +\n  # Modificaciones estéticas adicionales al gráfico sugeridas por Nick Desbarats\n  theme(axis.title.y = element_text(color = \"grey30\", family = \"Poppins\"),\n        axis.text.x = element_blank(),\n        legend.position = \"top\",            # Mueve la leyenda arriba del gráfico\n        legend.justification = \"left\",      # Centra la leyenda horizontalmente\n        legend.box.just = \"left\",           # Alinea el contenido de la caja de la leyenda \n        legend.margin = margin(l = -50, t = 3),\n        panel.spacing = unit(25, \"pt\"),\n        strip.background = element_blank(),\n        stripp.text.x = element_text(face = \"bold\"),\n        axis.ticks.x = element_blank())\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/scatter_plot2-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Guarda el gráfico en un archivo png\nggsave(\"jittered_strip.png\", dpi = 300)\n```\n:::\n\n\n\nAhora podemos apreciar de mejor manera todas las posiciones de los puntos de datos, donde los datos están más concentrados y también los diferentes rangos de los salarios tanto para hombres como para mujeres en los diferentes roles. Por lo tanto, es más fácil comparar y analizar los resultados y ver el número de observaciones. \n\nDado que estoy diseñando todas estas visualizaciones, podría estar sesgado, pero en mi opinión, al ver todos los roles juntos en una visualización, la carga cognitiva aumenta para interpretar la situación salarial tanto para el género como para todos los roles a la vez.\n\n# Conclusiones\n\nMi percepción de los gráficos está sesgada por mi experiencia y por haber creado el boxplot original. Para este conjunto de datos específico, un gráfico más simple de interpretar, como el último diagrama de dispersión, podría ser más difícil de extraer conclusiones. Reconozco que los gráficos de violín son más sofisticadas desde el punto de vista del diseño, y proporcionan un efecto *wow* que te hace reaccionar *\"Wow, esto se ve genial\"* pero terminan sin tener ni idea de cómo interpretar lo que estás viendo.\n\nCreo que es Alberto Cairo quien dice que la visualización es una herramienta para representar una realidad compleja con una codificación visual. Por lo tanto, cada visualización tendrá algunos altibajos (simplicidad para los gráficos de barras, mucha información para los boxplots) y desventajas (simplificación excesiva y ocultación de la realidad para los gráficos de barras; demasiada información y \"ocultación\" de la cantidad de puntos de datos para los boxplots), por lo que tenemos que tomar decisiones conscientes cuando usamos visualizaciones para comunicar resultados:\n\n- Cuál es la mejor visualización que representa la historia de los datos.\n- ¿Cuál es mi propósito? ¿Sorprender y asombrar? ¿Para educar? ¿Cuánto tiempo tengo para explicar la visualización?\n- Considere cuánto sabe la audiencia sobre los datos, una visualización, y cuánto realmente quiere mejorar sus capacidades.\n- ¿Necesitamos una visualización sencilla que todo el mundo entienda, o deberíamos utilizar una visualización más compleja para expertos en la materia?\n\nPara este ejemplo en particular, y para este conjunto de datos específico, y si desea mostrar los resultados de todos los roles en un gráfico, el diagrama de caja es la mejor opción, porque, incluso con su complejidad, condensa suficiente información para sacar conclusiones y comprender la historia detrás de los datos. Creo que para este caso en particular, su forma consistente a lo largo de los roles y géneros reduce la carga cognitiva y ayuda al usuario a comparar resultados una vez que entiende cómo interpretar el gráfico.\n\nDe todos modos, no des por sentada mi palabra. Como dije antes, no soy un experto en visualización, sino un entusiasta practicante de People Analytics. Así que podés estar de acuerdo conmigo, o no, está bien. Espero que esta publicación te ayude a considerar nuevos ángulos la próxima vez que necesites usar visualizaciones para comunicar resultados. Idealmente, debería haber hecho este ejercicio con diferentes conjuntos de datos, pero... ¿quién tiene tiempo?\n\nSupongo que eso refuerza mi afirmación inicial. No hay un gráfico que sea mejor que otros per se, sino que hay gráficos que funcionan mejor en situaciones concretas, para un público concreto, con una finalidad concreta y en función de los datos que se tengan.\n\n\nSi querés ponerte en contacto conmigo, escribime a través de mi perfil en [LinkedIn profile](https://www.linkedin.com/in/sergiogarciamora/), en [Blue Sky](https://bsky.app/profile/checho-puchero.bsky.social), por [Telegram](https://t.me/SergioGarciaMora) o simplemente escribime un email a [sergio.garciamora@gmail.com.com](mailto:sergio.garciamora@gmail.com). Podés acceder al repo original en [GitHub](https://github.com/chechoid/comparing-visualizations) para reproducir los resultados. Seguí a [Nightingaledvs.com](https://nightingaledvs.com/) para ver contenido genial sobre visualización de datos. Fue muy interesante recorrer su contenido\n\nGracias por leer.\n\n🤘 Sergio\n\nPD: ¿Cuál es tu gráfico favorito?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Boxplot\nsalaries %>% \n  filter(role == \"Analista\") %>% \n  ggplot(aes(y = ft_salary, fill = gender)) +\n  geom_boxplot() +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Boxplot\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n\n# Violin plot\nsalaries %>% \n  filter(role == \"Analista\") %>% \n  ggplot(aes(x = role, y = ft_salary, fill = gender)) +\n  geom_violin() +\n  scale_fill_manual(values = gender_colors) +\n  axis_y_n +\n  styleh +\n  labs(title = \"Violin Plot\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n\n# Scatter plot\nsalaries %>% \n  filter(role == \"Analista\") %>% \nggplot(aes(x = gender, y = ft_salary, color = gender)) +\n  geom_point(size = 3,\n             alpha = 0.2,\n             position = position_jitter(0.22)) +\n  scale_color_manual(values = gender_colors) +\n  styleh +\n  axis_y_n +\n  labs(title = \"Scatter Plot\",\n       subtitle = \"En AR$\",\n       y = \"Sueldo Bruto en AR$\",\n       x = NULL,\n       fill = \"Género\",\n       caption = fuente)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/final-1.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/final-2.png){width=672}\n:::\n\n::: {.cell-output-display}\n![](index_files/figure-html/final-3.png){width=672}\n:::\n:::\n\n\n\n## Paquetes de R Utilizados\n\nEstos son los paquetes de R usados para hacer este post:\n\n-   **funModeling:** Pablo Casas (2020). funModeling: Exploratory Data Analysis and Data Preparation Tool-Box. R package, version 1.9.4. <https://CRAN.R-project.org/package=funModeling>\n\n-   **tidyverse:** Wickham et al., (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686, <https://doi.org/10.21105/joss.01686>\n\n-   **scales:** Hadley Wickham and Dana Seidel (2020). scales: Scale Functions for Visualization. R package version 1.1.1. <https://CRAN.R-project.org/package=scales>\n\n-   **googlesheets4:** Jennifer Bryan (2021). googlesheets4: Access Google Sheets using the Sheets API V4. R package version 1.0.0. <https://CRAN.R-project.org/package=googlesheets4>\n\n-   **gargle:** Jennifer Bryan, Craig Citro and Hadley Wickham (2021). gargle: Utilities for Working with Google APIs. R package version 1.2.0. <https://CRAN.R-project.org/package=gargle>\n\n-   **emo:** Hadley Wickham, Romain François and Lucy D'Agostino McGowan (2021). emo: Easily Insert 'Emoji'. R package version 0.0.0.9000. <https://github.com/hadley/emo>\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}