---
title: "Comparando Visualizaciones"
author: "Checho"
date: "01/02/2025"
lang: es
categories: [visualizacion, ggplot2, data viz]
format:
  html:
    toc: true
    toc-location: left
    code-fold: true
    code-summary: "Ver c칩digo"
    code-copy: hover
execute: 
  warning: false
  error: false
  message: false
  dpi: 300
editor: visual
---

# Intro

Hace unos a침os atr치s, el 22/2/22 para ser exactos, hice [un art칤culo en ingl칠s](https://rpubs.com/Data4HR/comparing-visualizations) comparando gr치ficos, luego de que [Paul Van Der Laken PhD](https://www.linkedin.com/in/paulvanderlaken/) recomendara en LinkedIn un art칤culo de [Nick Desbarats](https://www.linkedin.com/in/nickdesbarats/) se침alando los [problemas de los boxplots](https://nightingaledvs.com/ive-stopped-using-box-plots-should-you/) en su fant치stico sitio [Nightingale Journal of Data Visualization Society](https://nightingaledvs.com/).

Lo que pas칩 fue que en R4HR hab칤amos hecho un boxplot que nos result칩 muy 칰til para evidenciar las desigualdades salariales entre hombres y mujeres, entonces me convert칤 en un palad칤n de los boxplots. Bueno, estoy exagerando, pero la realidad es que no existen gr치ficos mejores o peores que otros, sino **gr치ficos que sirven a un prop칩sito**.

En fin, hace poco tuve un intercambio con Nick, y entonces pens칠 que ser칤a una buena idea reflotar ese art칤culo en castellano para mi comunidad. As칤 que aqu칤 lo tienen, un nuevo autoplagio 游땙.

# Comparando visualizaciones

Este posteo est치 inspirado en un [debate en LinkedIn](https://www.linkedin.com/posts/paulvanderlaken_think-twice-before-plotting-your-boxes-activity-6899369243398193152-63Y0) comparando las bondades y desventajas de los boxplots vs. los scatter plots (o gr치ficos de dispersi칩n). El posteo fue escrito por [Paul van der Laken, PhD](https://www.linkedin.com/in/paulvanderlaken/) citando un art칤culo de [Nick Desbarats](https://www.linkedin.com/in/nickdesbarats/) titulado **"I've stopped using boxplots. Should you?"**, un art칤culo inspirador que [puedes leer aqu칤](https://nightingaledvs.com/ive-stopped-using-box-plots-should-you/) (en ingl칠s).

No quiero demostrar que Nick y Paul est치n equivocados, ese no es el objetivo de esta publicaci칩n. De hecho, me encant칩 el art칤culo de Nick. Durante la discusi칩n en los comentarios, compart칤 un ejemplo donde un boxplot fue 칰til y me pidieron que hiciera un violin plot. Por eso estoy escribiendo este post.

Cabe mencionar que no me considero un experto en visualizaci칩n de datos, s칩lo soy un entusiasta practicante de People Analytics, y de vez en cuando, est치 bueno participar en un debate donde se puedan cuestionar ideas.

Aunque estoy de acuerdo con la idea general del art칤culo de Nick de que lo m치s simple es mejor, y que siempre hay que pensar primero en la audiencia y si van a entender o no un gr치fico, en mi opini칩n no existe un tipo de gr치fico mejor que otro. Un gr치fico debe usarse con un prop칩sito.

Otro punto en contra de los boxplots es que son complejos de entender y requieren que la audiencia tenga conocimientos estad칤sticos para interpretarlos, lo cual es cierto. Considerando que trabajo principalmente con profesionales de Recursos Humanos, y que la estad칤stica no es nuestro fuerte, y dado que los boxplots condensan mucha informaci칩n estad칤stica, la mayor칤a de mi audiencia no los entender칤a. Entonces, 쯣ara qu칠 molestarse?

![Una explicaci칩n de toda la informaci칩n que proporciona un boxplot (valores at칤picos, cuartiles 1 y 3, mediana)](https://miro.medium.com/max/1838/1*2c21SkzJMf3frPXPAR_gZA.png "Informaci칩n Estad칤stica de un Boxplot"){width="456"}

En mi opini칩n, incluso si est치s haciendo un gr치fico de torta o un gr치fico de barras, siempre ten칠s que explicar qu칠 est치 diciendo la visualizaci칩n, especialmente si est치s usando alg칰n tipo de gr치fico con el que la gente no est치 familiarizada. No asumas que tu audiencia va a interpretar el gr치fico de la misma manera en que vos lo pensaste al crearlo. Prest치 atenci칩n a las [charlas TED de Hans Rosling](https://www.ted.com/speakers/hans_rosling) y como siempre explica c칩mo interpretar sus visualizaciones.

![No asumas que el usuario sabr치 c칩mo leer el gr치fico](https://github.com/chechoid/comparing-visualizations/blob/main/images/bull-terrier.png?raw=true){width="349"}

Aunque los boxplots son dif칤ciles de entender, especialmente para los profesionales de Recursos Humanos, creo que pueden ser 칰tiles para personas que trabajan, por ejemplo, en Compensaciones y Beneficios, ya que constantemente manejan medianas y bandas salariales.

Y creo que cada gr치fico cumple un prop칩sito. Por ejemplo, en presentaciones comerciales, siempre incluir칤a un gr치fico Sankey por el *Efecto Wow*, pero casi nunca lo us칠 en producci칩n porque mis clientes no sabr칤an c칩mo leerlos. Entonces, mi punto es que **siempre ten칠s que usar una visualizaci칩n que el usuario y la audiencia puedan entender.**

As칤 que, considerando todo esto, 춰carguemos algunos datos y comparemos gr치ficos! 游뱁

# Los datos

Los datos que vamos a ver son de una encuesta salarial abierta desarrollada por un RUG (Grupo de Usuarios de R) latinoamericano llamado [R4HR Club de R para RRHH](https://r4hr.club/), una comunidad para aprender a usar R dirigida a personas de habla hispana que trabajan o quieren trabajar en Recursos Humanos. Pod칠s encontrar los datos originales y nuestro an치lisis completo en [este enlace](https://rpubs.com/Data4HR/encuesta-kiwi-2020) (est치 en espa침ol 游뱡游낕).

Primero, carguemos algunas librer칤as y un subconjunto de los datos. Si no quer칠s ver todo el proceso de preparaci칩n de datos, simplemente and치 a **Comparando visualizaciones** en el men칰 de la izquierda.

## Preparaci칩n de datos

Estoy cargando datos desde la fuente original. Por eso, esto requiere algo de limpieza de datos. Los datos est치n filtrados para mostrar solo los resultados de Argentina, y realic칠 algunos c치lculos para estimar los salarios de medio tiempo como equivalentes a un salario de tiempo completo. Esos son los datos que voy a usar para hacer las visualizaciones. Pod칠s descargar una versi칩n limpia de estos datos desde este [repositorio de GitHub](https://raw.githubusercontent.com/chechoid/comparing-visualizations/main/hr_salaries_arg.csv).

```{r}
#| label: data_librerias
# Librarias & Data ----
library(tidyverse)    # Limpieza y Manipulaci칩n de Datos
library(funModeling)  # Exploraci칩n y limpieza de datos y mucho m치s
library(scales)       # Ajustes a c칩mo ver las escalas de los ejes
library(googlesheets4) # Leer archivos de Google Sheets
library(gargle)       # Para lidiar con los caracteres especiales del castellano

# Data
salaries <- read_sheet("1aeuu9dVfN42EjyvbmhEcsf0ilSz2DiXU-0MpnF896ss") %>% 
    select(gender = "G칠nero",
           role = "쮼n qu칠 puesto trabaj치s?",
           gross_salary = "쮺u치l es tu remuneraci칩n BRUTA MENSUAL en tu moneda local? (antes de impuestos y deducciones)",
           country = "Pa칤s en el que trabajas",
           work_type = "Trabajo",
           work_hours = "Tipo de contrataci칩n") %>% 
  filter(country == "Argentina",
         work_type == "Relaci칩n de Dependencia",
         gender %in% c("Femenino", "Masculino")) %>% 
  select(-country, -work_type)

## Limpieza de datos (no hay escapatoria de esto) ----
salaries <- salaries %>% 
  mutate(gross_salary = as.numeric(unlist(gross_salary)))

# A침ade columna para estimar el salario full time de trabajadores part time
salaries <- salaries %>% 
  mutate(multiplier = if_else(work_hours == "Part time", 1.5, 1),
         ft_salary = gross_salary * multiplier) %>% 
  select(-work_hours, -multiplier, -gross_salary)

# Filtro y unificaci칩n de roles 
salaries <- salaries %>% 
  filter(role != "Juzgado Civil y Comercial",
         role != "Programador",
         role != "Cuidado",
         role != "Asesor",
         role != "Jefe de Proyecto") %>% 
  mutate(role = str_trim(role, side = "both"), # Elimina espacios vac칤os
         role = fct_collapse(role, "Gerente" = "Superintendente"),
         role = fct_collapse(role, "Director" = "Director ( escalaf칩n municipal)"),
         role = fct_collapse(role, "HRBP" = c("Senior Consultor칤a", "specialist", "especialista",
                                                  "Especialista en selecci칩n IT", "Recruiter")),
         role = fct_collapse(role, "Responsable" = c("Coordinaci칩n", "Coordinador de Payroll",
                                                         "Encargado", "Supervisor")),
         role = fct_collapse(role, "Administrativo" = c("Asistente", "Asistente RRHH", "Aux", 
                                                            "Capacitador", "Consultor Ejecutivo",
                                                            "consultor jr")),
         role = fct_collapse(role, "Analista" = c("Asesoramiento", "Consultor", "Generalista", 
                                                      "Reclutadora", "Selectora", "Senior"))) 

# Filtra roles para analizar
salaries <- salaries %>% 
  filter(role %in% c("Analista", "HRBP", "Responsable",
                     "Jefe", "Gerente"))

# Graba el dataframe en un csv para compartir.
write_delim(salaries, file = "hr_salaries_arg.csv",
            delim = ";")
```

La siguiente secci칩n es para customizar los gr치ficos.

```{r}
#| label: chart_settings


options(scipen = 999) # Cambia la notaci칩n cient칤fica por valores nominales

# Estilo limpio con l칤neas horizontales grises
styleh <- theme(panel.grid = element_blank(),
                plot.background = element_rect(fill = "#FBFCFC"),
                panel.background = element_blank(),
                panel.grid.major.y = element_line(color = "#EAEDED"),
                axis.ticks.y = element_blank(),
                plot.title.position = "plot")

# Estilo limpio con l칤neas verticales grises
stylev <- theme(panel.grid = element_blank(),
                plot.background = element_rect(fill = "#FBFCFC"),
                panel.background = element_blank(),
                panel.grid.major.x = element_line(color = "#EAEDED"),
                axis.ticks.x = element_blank(),
                plot.title.position = "plot")


# Modifica la forma en que se muestran los ejes
axis_x_n <- scale_x_continuous(labels = comma_format(big.mark = ".", decimal.mark = ","))
axis_y_n <- scale_y_continuous(labels = comma_format(big.mark = ".", decimal.mark = ","))


# Colores
gender_colors <- genero <- c("#8624F5", "#1FC3AA") # Purple and green (sort of :p)

# Fuente de datos
fuente <- "Data Source: Encuesta KIWI de Sueldos de RRHH LATAM 2020\nR4HR Club de R para RRHH"
```

Veamos un resumen de los datos.

```{r}
#| label: jerarquizacion

# Ordena los puestos por jerarqu칤a
salaries <- salaries %>% 
  mutate(role = fct_relevel(role, c("Analista", "HRBP", "Responsable",
                                   "Jefe", "Gerente"))) 

# Veamos un resumen de los datos
summary(salaries)
```

Hay un par de valores inusuales. Primero, el valor m칤nimo, que claramente es un error (o alguien con malas intenciones), y luego el valor m치ximo, que podr칤a ser posible, pero es altamente inusual para el mercado argentino. Si hacemos un histograma, el resultado ser칤a extra침o.

```{r}
#| label: hist-1
ggplot(salaries, aes(x = ft_salary)) +
  geom_histogram() +
  labs(title = paste0("Distribuci칩n de Salario Bruto en HR ", emo::ji("scream")),
       subtitle = "Datos de Argentina | en AR$",
       x = NULL, y = NULL,
       caption = fuente) +
  axis_x_n +
  styleh
```

Ac치 es donde `funModeling` hace su magia. La funci칩n `profiling_num` arroja una tabla con un mont칩n de informaci칩n estad칤stica de resumen.

```{r}
#| label: cleaning_num
(numerical <- profiling_num(salaries))
```

Dado que quiero analizar los valores centrales de los salarios, voy a eliminar todos los valores por fuera de los percentiles 5 y 95.

```{r}
#| label: cleaning_num2
# Guarda los valores de los percentiles 5 y 95 de la tabla numerical
p05 <- numerical[1,6]
p95 <- numerical[1,10]

# Filtra valores dentro del rango de los percentiles p05 y p95
salaries <- salaries %>% 
  filter(between(    # Funci칩n de soporte
    ft_salary,       # Variable a filtrar
    p05,             # Umbral m칤nimo
    p95              # Umbral m치ximo
  ))

# Elimino objetos que no voy a volver a usar
rm(numerical, p05, p95)
```

Ahora que tenemos una versi칩n m치s limpia de los datos podemos empezar a comparar las visualizaciones.

```{r}
#| label: hist-2
ggplot(salaries, aes(x = ft_salary)) +
  geom_histogram() +
  labs(title = "Distribuci칩n de Salario Bruto en HR | Datos Limpios",
       subtitle = "Data de Argentina | en AR$",
       x = NULL, y = NULL,
       caption = fuente) +
  axis_x_n +
  styleh
```

# Comparando gr치ficos

![Cr칠ditos: Allison Horst \@allison_horst](https://pbs.twimg.com/media/EKHdk4IU8AAQ_XB.jpg){width="399"}

쯇or qu칠 usar un boxplot en lugar de un simple gr치fico de barras? Probemos usando un gr치fico de barras para comparar el salario mediano de hombres y mujeres en cada rol:

```{r}
#| label: barplot
salaries %>% 
  group_by(role, gender) %>% 
  summarise(median_salary = median(ft_salary)) %>% 
  ggplot(aes(x = role, y = median_salary, fill = gender)) +
  geom_col(position = "dodge") +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Mediana Salarial por Rol y G칠nero en HR",
       subtitle = "Datos de Argentina | en AR$",
       y = "Mediana Salarial en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)
```

Si miramos cada barra, podemos ver que la brecha salarial para los roles de Analista y Supervisor es mayor que en los otros roles, lo que indica que los hombres en Recursos Humanos ganan m치s que sus colegas mujeres. Pero cuando observamos los roles de HRBP y Gerentes, la mediana salarial de las mujeres es ligeramente mayor que la de los hombres, e incluso en el rol de Jefatura, la brecha es bastante peque침a. Con esta evidencia, podr칤amos decir que la brecha salarial de g칠nero en Recursos Humanos en Argentina no es un problema, pero...

![](https://media.giphy.com/media/9AIo1aJjtVTDd7D3wc/giphy.gif){width="408"}

## Boxplots

En el debate en LinkedIn, Nick Desbarats dice que tiene problemas para encontrar casos de uso donde los boxplots fueran la mejor opci칩n, as칤 que compart칤 el siguiente gr치fico:

```{r}
#| label: boxplot
ggplot(salaries, aes(x = role, y = ft_salary, fill = gender)) +
  geom_boxplot() +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Distribuci칩n Salarial en Roles de HR en Argentina",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)
```

Lo que me gusta de este gr치fico es que podemos ver la distribuci칩n de los salarios por el tama침o de cada mitad de las cajas. Usemos de ejemplo la posici칩n de *Jefe*. Las medianas entre hombres y mujeres son similares, pero en el caso de las mujeres la mitad inferior es m치s grande que la de los varones, indicando que el rango de salarios de las mujeres es m치s amplio. Eso nos dice que hay mujeres en la posici칩n de *Jefe* con sueldos muy por debajo de la mediana.

Lo opuesto ocurre con profesionales masculinos en el puesto de *Jefe*. La mitad superior de la caja es m치s amplia, indicando que hay hombres con sueldos muy por encima de la mediana.

Nick tiene un punto a su favor. 쮺u치ntos casos tenemos en cada rol? 3, 15, 300? No lo podemos saber con este tipo de gr치fico. Entonces 칠l sugiri칩 probar con un **gr치fico de** **viol칤n**. As칤 que, veamos qu칠 ocurre.

## Violin plot

Los gr치ficos de viol칤n son una alternativa a los boxplots. Muestran el rango de valores con su largo, y las distintas concentraciones de datos con su ancho. La secci칩n m치s ancha del gr치fico suele indicar la mediana de los valores num칠ricos.:

\[![Cr칠ditos: atlassian.com](https://wac-cdn.atlassian.com/dam/jcr:0ed08845-2adb-48a7-a070-19fe7bc32974/violin-inner-options-1.png?cdnVersion=2484)

Convirtamos nuestro boxplot original en un gr치fico de viol칤n.

```{r}
#| label: violin chart
ggplot(salaries, aes(x = role, y = ft_salary, fill = gender)) +
  geom_violin() +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Distribuci칩n Salarial en Roles de HR en Argentina",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)
```

Dada la cantidad de roles, no podemos apreciar el valor de este tipo de gr치fico. As칤 que repitamos el ejercicio pero s칩lo con los *Analistas* y *Gerentes*

```{r}
#| label: violin2
salaries %>% 
  filter(role %in% c("Analista", "Gerente")) %>% 
  ggplot(aes(x = role, y = ft_salary, fill = gender)) +
  geom_violin() +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Distribuci칩n Salarial en Roles de HR en Argentina",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)

```

El ancho de cada gr치fico indica que esa zona contiene mayor cantidad de casos. Para Gerentes hombres, podemos apreciar que la mayor칤a de los casos est치n cerca de la mediana. El largo o altura del gr치fico indica el rango de valores. Para el caso de las Gerentas ese rango va desde aproximadamente AR\$ 50.000 hasta cerca de los AR\$ 200.000 y el ancho es bastante parejo a lo largo de las observaciones.

En el caso de los analistas, en las mujeres vemos que la secci칩n m치s ancha se encuentra en torno a los AR\$ 50.000 y se hace m치s delgada hacia arriba. En el caso de los varones, la parte m치s ancha del gr치fico est치 m치s arriba que el de las mujeres, y el rango se expande hasta valores m치s altos.

Tal vez para este dataset, el gr치fico de viol칤n no sea la mejor opci칩n para ver todos los roles juntos, as칤 que probemos el gr치fico de dispersi칩n o **scatter plot**.

## Scatter plot

Una manera de ver la distribuci칩n de los puntos de datos es mediante el scatter plot o gr치ficos de dispersi칩n. Tendemos a usarlos para visualizar las relaciones entre dos variables num칠ricas, pero tambi칠n podemos utilizarlos cuando tenemos una variable nominal.

```{r}
#| label: scatter_plot
ggplot(salaries, aes(x = role, y = ft_salary, color = gender)) +
  geom_point(size = 3,
             alpha = 0.2,
             position = position_jitter(0.3)) +
  scale_color_manual(values = gender_colors) +
  styleh +
  axis_y_n +
  labs(title = "Distribuci칩n Salarial en Roles de HR en Argentina",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)
```

Nuevamente, con este dataset el scatter plot puede ser m치s confuso dado que en ciertos roles, como el de *Analista* o el *Responsable* tienen muchas observaciones, se dificulta apreciar las diferencias por color. Pero por ejemeplo, en el caso de los *Gerentes* se puede apreciar el rango de los salarios y d칩nde se concentran en el caso de los varones.

Probemos separar los gr치ficos en gr치ficos m치s chicos para ver si ayuda a clarificar la interpretaci칩n de los datos.

```{r}
#| label: scatter_plot2
#| fig-height: 8

# Calcular mediana de los salarios por g칠nero y rol 
median_salaries <- salaries %>%
  group_by(gender, role) %>%
  summarise(median_salary = median(ft_salary, na.rm = TRUE), .groups = "drop")

median_salaries <- median_salaries %>%
  mutate(x = as.numeric(as.factor(gender)) - 0.4,  # Ajusta el inicio de la l칤nea
         xend = as.numeric(as.factor(gender)) + 0.4) # Ajusta el final de la l칤nea

# Gr치fico
## Scatter plot
ggplot(salaries, aes(x = gender, y = ft_salary, color = gender)) +
  geom_point(size = 2,
             alpha = 0.3,
             position = position_jitter(0.22)) +
  ## Customiza colores
  scale_color_manual(values = gender_colors) +
  ## A침ade l칤neas de medianas
  geom_segment(data = median_salaries, 
               aes(x = x, xend = xend, 
                   y = median_salary, 
                   yend = median_salary, 
                   color = gender), 
               size = 1,
               show.legend = FALSE) +
  ## Customiza el estilo del gr치fico
  styleh +
  ## Customiza las etiquetas del eje y
  axis_y_n +
  ## Modifica t칤tulos y ejes
  labs(title = "Distribuci칩n Salarial en Roles de HR en Argentina",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = paste0(fuente,"\nSugerencias por Nick Desbarats")) +
  ## Divide el gr치fico en subgr치ficos por rol
  facet_wrap(~role, nrow = 1) +
  # Modificaciones est칠ticas adicionales al gr치fico sugeridas por Nick Desbarats
  theme(axis.title.y = element_text(color = "grey30", family = "Poppins"),
        axis.text.x = element_blank(),
        legend.position = "top",            # Mueve la leyenda arriba del gr치fico
        legend.justification = "left",      # Centra la leyenda horizontalmente
        legend.box.just = "left",           # Alinea el contenido de la caja de la leyenda 
        legend.margin = margin(l = -50, t = 3),
        panel.spacing = unit(25, "pt"),
        strip.background = element_blank(),
        stripp.text.x = element_text(face = "bold"),
        axis.ticks.x = element_blank())

# Guarda el gr치fico en un archivo png
ggsave("jittered_strip.png", dpi = 300)
```

Ahora podemos apreciar de mejor manera todas las posiciones de los puntos de datos, donde los datos est치n m치s concentrados y tambi칠n los diferentes rangos de los salarios tanto para hombres como para mujeres en los diferentes roles. Por lo tanto, es m치s f치cil comparar y analizar los resultados y ver el n칰mero de observaciones.

Dado que estoy dise침ando todas estas visualizaciones, podr칤a estar sesgado, pero en mi opini칩n, al ver todos los roles juntos en una visualizaci칩n, la carga cognitiva aumenta para interpretar la situaci칩n salarial tanto para el g칠nero como para todos los roles a la vez.

# Conclusiones

Mi percepci칩n de los gr치ficos est치 sesgada por mi experiencia y por haber creado el boxplot original. Para este conjunto de datos espec칤fico, un gr치fico m치s simple de interpretar, como el 칰ltimo diagrama de dispersi칩n, podr칤a ser m치s dif칤cil de extraer conclusiones. Reconozco que los gr치ficos de viol칤n son m치s sofisticadas desde el punto de vista del dise침o, y proporcionan un efecto *wow* que te hace reaccionar *"Wow, esto se ve genial"* pero terminan sin tener ni idea de c칩mo interpretar lo que est치s viendo.

Creo que es Alberto Cairo quien dice que la visualizaci칩n es una herramienta para representar una realidad compleja con una codificaci칩n visual. Por lo tanto, cada visualizaci칩n tendr치 algunos altibajos (simplicidad para los gr치ficos de barras, mucha informaci칩n para los boxplots) y desventajas (simplificaci칩n excesiva y ocultaci칩n de la realidad para los gr치ficos de barras; demasiada informaci칩n y "ocultaci칩n" de la cantidad de puntos de datos para los boxplots), por lo que tenemos que tomar decisiones conscientes cuando usamos visualizaciones para comunicar resultados:

-   Cu치l es la mejor visualizaci칩n que representa la historia de los datos.
-   쮺u치l es mi prop칩sito? 쯉orprender y asombrar? 쯇ara educar? 쮺u치nto tiempo tengo para explicar la visualizaci칩n?
-   Considere cu치nto sabe la audiencia sobre los datos, una visualizaci칩n, y cu치nto realmente quiere mejorar sus capacidades.
-   쯅ecesitamos una visualizaci칩n sencilla que todo el mundo entienda, o deber칤amos utilizar una visualizaci칩n m치s compleja para expertos en la materia?

Para este ejemplo en particular, y para este conjunto de datos espec칤fico, y si desea mostrar los resultados de todos los roles en un gr치fico, el diagrama de caja es la mejor opci칩n, porque, incluso con su complejidad, condensa suficiente informaci칩n para sacar conclusiones y comprender la historia detr치s de los datos. Creo que para este caso en particular, su forma consistente a lo largo de los roles y g칠neros reduce la carga cognitiva y ayuda al usuario a comparar resultados una vez que entiende c칩mo interpretar el gr치fico.

De todos modos, no des por sentada mi palabra. Como dije antes, no soy un experto en visualizaci칩n, sino un entusiasta practicante de People Analytics. As칤 que pod칠s estar de acuerdo conmigo, o no, est치 bien. Espero que esta publicaci칩n te ayude a considerar nuevos 치ngulos la pr칩xima vez que necesites usar visualizaciones para comunicar resultados. Idealmente, deber칤a haber hecho este ejercicio con diferentes conjuntos de datos, pero... 쯤ui칠n tiene tiempo?

Supongo que eso refuerza mi afirmaci칩n inicial. No hay un gr치fico que sea mejor que otros per se, sino que hay gr치ficos que funcionan mejor en situaciones concretas, para un p칰blico concreto, con una finalidad concreta y en funci칩n de los datos que se tengan.

Si quer칠s ponerte en contacto conmigo, escribime a trav칠s de mi perfil en [LinkedIn profile](https://www.linkedin.com/in/sergiogarciamora/), en [Blue Sky](https://bsky.app/profile/checho-puchero.bsky.social), por [Telegram](https://t.me/SergioGarciaMora) o simplemente escribime un email a [sergio.garciamora\@gmail.com.com](mailto:sergio.garciamora@gmail.com). Pod칠s acceder al repo original en [GitHub](https://github.com/chechoid/comparing-visualizations) para reproducir los resultados. Segu칤 a [Nightingaledvs.com](https://nightingaledvs.com/) para ver contenido genial sobre visualizaci칩n de datos. Fue muy interesante recorrer su contenido

Gracias por leer.

游뱆 Sergio

PD: 쮺u치l es tu gr치fico favorito?

```{r}
#| label:  final 
#| fig-show: hold


# Boxplot
salaries %>% 
  filter(role == "Analista") %>% 
  ggplot(aes(y = ft_salary, fill = gender)) +
  geom_boxplot() +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Boxplot",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)

# Violin plot
salaries %>% 
  filter(role == "Analista") %>% 
  ggplot(aes(x = role, y = ft_salary, fill = gender)) +
  geom_violin() +
  scale_fill_manual(values = gender_colors) +
  axis_y_n +
  styleh +
  labs(title = "Violin Plot",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)

# Scatter plot
salaries %>% 
  filter(role == "Analista") %>% 
ggplot(aes(x = gender, y = ft_salary, color = gender)) +
  geom_point(size = 3,
             alpha = 0.2,
             position = position_jitter(0.22)) +
  scale_color_manual(values = gender_colors) +
  styleh +
  axis_y_n +
  labs(title = "Scatter Plot",
       subtitle = "En AR$",
       y = "Sueldo Bruto en AR$",
       x = NULL,
       fill = "G칠nero",
       caption = fuente)
```

## Paquetes de R Utilizados

Estos son los paquetes de R usados para hacer este post:

-   **funModeling:** Pablo Casas (2020). funModeling: Exploratory Data Analysis and Data Preparation Tool-Box. R package, version 1.9.4. <https://CRAN.R-project.org/package=funModeling>

-   **tidyverse:** Wickham et al., (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686, <https://doi.org/10.21105/joss.01686>

-   **scales:** Hadley Wickham and Dana Seidel (2020). scales: Scale Functions for Visualization. R package version 1.1.1. <https://CRAN.R-project.org/package=scales>

-   **googlesheets4:** Jennifer Bryan (2021). googlesheets4: Access Google Sheets using the Sheets API V4. R package version 1.0.0. <https://CRAN.R-project.org/package=googlesheets4>

-   **gargle:** Jennifer Bryan, Craig Citro and Hadley Wickham (2021). gargle: Utilities for Working with Google APIs. R package version 1.2.0. <https://CRAN.R-project.org/package=gargle>

-   **emo:** Hadley Wickham, Romain Fran칞ois and Lucy D'Agostino McGowan (2021). emo: Easily Insert 'Emoji'. R package version 0.0.0.9000. <https://github.com/hadley/emo>
